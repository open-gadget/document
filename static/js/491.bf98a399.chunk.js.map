{"version":3,"file":"static/js/491.bf98a399.chunk.js","mappings":"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","sources":["plus/offer-overview/offer-hero/index.tsx","plus/offer-overview/offer-overview-feature/index.tsx","plus/offer-overview/offer-overview-subscribe/index.tsx","plus/offer-overview/index.tsx","ui/atoms/switch/index.tsx"],"sourcesContent":["import { CRUD_MODE } from \"../../../env\";\nimport Mandala from \"../../../ui/molecules/mandala\";\nimport \"./index.scss\";\n\nfunction OfferHero({ plusAvailable }: { plusAvailable: boolean }) {\n  const animate = !CRUD_MODE;\n  return (\n    <div className=\"dark offer-hero\">\n      <header className=\"container offer-hero-header\">\n        <div className=\"offer-hero-wrapper\">\n          <h1>\n            More MDN. <u>Your</u> MDN.\n          </h1>\n          {(plusAvailable && (\n            <>\n              <h2>\n                Support MDN <u>and</u> make it your own.\n              </h2>\n              <div className=\"button-wrapper\">\n                <a href=\"#subscribe\" className=\"button-primary\">\n                  Get started\n                </a>\n                <a href=\"#features\" className=\"button-secondary\">\n                  What's included\n                </a>\n              </div>\n            </>\n          )) || (\n            <>\n              <h2>\n                Coming to <u>your</u> region soon.\n              </h2>\n              <div className=\"button-wrapper\">\n                <a href=\"#features\" className=\"button-primary\">\n                  What's included\n                </a>\n                <a href=\"/en-US/plus/docs/faq\" className=\"button-secondary\">\n                  Frequently asked questions\n                </a>\n              </div>\n            </>\n          )}\n        </div>\n      </header>\n      <div className=\"mandala-wrapper\">\n        <Mandala animate={animate} animateColors={animate} />\n      </div>\n    </div>\n  );\n}\n\nexport default OfferHero;\n","import { Button } from \"../../../ui/atoms/button\";\nimport \"./index.scss\";\n\nfunction OfferOverviewFeature({ id, img, imgAlt, children }) {\n  return (\n    <div className={`offer-overview-feature ${id}`}>\n      <div className=\"container\">\n        <div className=\"wrapper\" id={id}>\n          <img\n            className=\"img-container\"\n            src={img}\n            alt={imgAlt}\n            width=\"1600\"\n            height=\"900\"\n          ></img>\n          <div className=\"copy-container\">{children}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function OfferOverviewFeatures() {\n  return (\n    <section id=\"features\">\n      <OfferOverviewFeature\n        id=\"notifications\"\n        img=\"/assets/notifications_light.png\"\n        imgAlt=\"\"\n      >\n        <section aria-labelledby=\"notifications-section-title\">\n          <h2 id=\"notifications-section-title\">Notifications</h2>\n          <h3>\n            Development in real time:\n            <br />\n            Get custom alerts\n          </h3>\n          <p>\n            The Web doesn't have a changelog, but MDN can help. Follow pages and\n            get customizable notifications when documentation changes, CSS\n            features launch, and APIs ship.\n          </p>\n          <Button href=\"/en-US/plus/docs/features/notifications\">\n            Learn more →\n          </Button>\n        </section>\n      </OfferOverviewFeature>\n      <OfferOverviewFeature\n        id=\"collections\"\n        img=\"/assets/collections_light.png\"\n        imgAlt=\"\"\n      >\n        <section aria-labelledby=\"collections-section-title\">\n          <h2 id=\"collections-section-title\">Collections</h2>\n          <h3>\n            Build your perfect library. <br />\n            Or let us build it for you.\n          </h3>\n          <p>\n            No more haphazard hunting through the vast virtual library: unleash\n            your inner curator and collect your favorite articles in one place\n            for convenient consultation.\n          </p>\n          <Button href=\"/en-US/plus/docs/features/collections\">\n            Learn more →\n          </Button>\n        </section>\n      </OfferOverviewFeature>\n      <OfferOverviewFeature\n        id=\"offline\"\n        img=\"/assets/offline_settings_light.png\"\n        imgAlt=\"\"\n      >\n        <section aria-labelledby=\"offline-section-title\">\n          <h2 id=\"offline-section-title\">MDN Offline</h2>\n          <h3>MDN's entire library at your fingertips: offline</h3>\n          <p>\n            Taking your projects beyond the nearest wifi signal? Say goodbye to\n            inaccessible pages or cluttered tabs. With MDN Plus, have the fully\n            navigable resources of MDN at your disposal even when offline.\n          </p>\n          <Button href=\"/en-US/plus/docs/features/offline\">Learn more →</Button>\n        </section>\n      </OfferOverviewFeature>\n    </section>\n  );\n}\n","import \"./index.scss\";\nimport {\n  ENABLE_PLUS_EU,\n  FXA_SIGNIN_URL,\n  MDN_PLUS_SUBSCRIBE_10M_URL,\n  MDN_PLUS_SUBSCRIBE_10Y_URL,\n  MDN_PLUS_SUBSCRIBE_5M_URL,\n  MDN_PLUS_SUBSCRIBE_5Y_URL,\n  MDN_PLUS_SUBSCRIBE_BASE,\n} from \"../../../env\";\nimport { SubscriptionType, UserData, useUserData } from \"../../../user-context\";\nimport { Switch } from \"../../../ui/atoms/switch\";\nimport { useEffect, useState } from \"react\";\nimport { getStripePlans } from \"../../common/api\";\nimport { useOnlineStatus } from \"../../../hooks\";\n\nexport enum Period {\n  Month,\n  Year,\n}\n\nconst SUBSCRIPTIONS = {\n  [SubscriptionType.MDN_CORE]: { order: 0 },\n  [SubscriptionType.MDN_PLUS_5M]: {\n    order: 1,\n    period: Period.Month,\n  },\n  [SubscriptionType.MDN_PLUS_5Y]: {\n    order: 2,\n    period: Period.Year,\n  },\n  [SubscriptionType.MDN_PLUS_10M]: {\n    order: 3,\n    period: Period.Month,\n  },\n  [SubscriptionType.MDN_PLUS_10Y]: {\n    order: 4,\n    period: Period.Year,\n  },\n};\n\nexport type OfferDetailsPlanProps = {\n  subscriptionType: SubscriptionType;\n  monthlyPrice?: number;\n  ctaLink: string;\n};\n\nexport type PlanInfo = {\n  id: string;\n  monthlyPriceInCents: number;\n};\n\nexport type StripePlans = {\n  currency: string;\n  plans: { [key: string]: PlanInfo };\n};\n\nexport type OfferDetailsProps = {\n  id: string;\n  name: string;\n  price?: number;\n  currency?: string;\n  features: (string | null)[][];\n  includes: string;\n  cta: string;\n  upgradeCta?: string;\n  discounted: OfferDetailsPlanProps;\n  regular: OfferDetailsPlanProps;\n};\n\nconst PLUS_FEATURES = [\n  [\"notifications\", \"Page notifications\"],\n  [\"collections\", \"Collections of articles\"],\n  [\"offline\", \"MDN Offline\"],\n];\n\nconst CORE: OfferDetailsProps = {\n  id: \"core\",\n  name: \"Core\",\n  features: [\n    [\"notifications\", \"Notifications for up to 3 pages\"],\n    [\"collections\", \"Up to 5 saved articles\"],\n  ],\n  includes: \"Includes:\",\n  cta: \"Start with Core\",\n  regular: {\n    subscriptionType: SubscriptionType.MDN_CORE,\n    ctaLink: `${FXA_SIGNIN_URL}?next=/en-US/plus`,\n  },\n  discounted: {\n    subscriptionType: SubscriptionType.MDN_CORE,\n    ctaLink: `${FXA_SIGNIN_URL}?next=/en-US/plus`,\n  },\n};\n\nconst PLUS_5: OfferDetailsProps = {\n  id: \"plus5\",\n  name: \"MDN Plus 5\",\n  currency: \"USD\",\n  features: PLUS_FEATURES,\n  includes: \"Includes unlimited access to:\",\n  cta: \"Start with Plus 5\",\n  upgradeCta: \"Upgrade to Plus 5\",\n  regular: {\n    subscriptionType: SubscriptionType.MDN_PLUS_5M,\n    ctaLink: MDN_PLUS_SUBSCRIBE_5M_URL,\n    monthlyPrice: 500,\n  },\n  discounted: {\n    subscriptionType: SubscriptionType.MDN_PLUS_5Y,\n    ctaLink: MDN_PLUS_SUBSCRIBE_5Y_URL,\n    monthlyPrice: 417,\n  },\n};\n\nconst PLUS_10: OfferDetailsProps = {\n  id: \"plus10\",\n  name: \"MDN Supporter 10\",\n  currency: \"USD\",\n  features: [\n    ...PLUS_FEATURES,\n    [null, \"Early access to new features\"],\n    [null, \"Pride and joy\"],\n  ],\n  includes: \"Includes unlimited access to:\",\n  cta: \"Start with Supporter 10\",\n  upgradeCta: \"Upgrade to Supporter 10\",\n  regular: {\n    subscriptionType: SubscriptionType.MDN_PLUS_10M,\n    ctaLink: MDN_PLUS_SUBSCRIBE_10M_URL,\n    monthlyPrice: 1000,\n  },\n  discounted: {\n    subscriptionType: SubscriptionType.MDN_PLUS_10Y,\n    ctaLink: MDN_PLUS_SUBSCRIBE_10Y_URL,\n    monthlyPrice: 833,\n  },\n};\n\nfunction OfferDetails({\n  offerDetails,\n  period,\n}: {\n  offerDetails: OfferDetailsProps;\n  period: Period;\n}) {\n  const discounted = period === Period.Year;\n  const { subscriptionType, ctaLink, monthlyPrice } =\n    period === Period.Year && offerDetails.id !== \"core\"\n      ? offerDetails.discounted\n      : offerDetails.regular;\n  const userData = useUserData();\n  const current = isCurrent(userData, subscriptionType);\n  const upgrade = canUpgrade(userData, subscriptionType);\n  const displayMonthlyPrice =\n    monthlyPrice &&\n    new Intl.NumberFormat(undefined, {\n      style: \"currency\",\n      currency: offerDetails.currency,\n    }).format(monthlyPrice / 100);\n  return (\n    <section className=\"subscribe-detail\" id={offerDetails.id}>\n      <h3>{offerDetails.name}</h3>\n      <div className=\"sub-info\">\n        {(displayMonthlyPrice && (\n          <p className=\"price\">\n            <span className=\"sub-price\">{displayMonthlyPrice}</span>\n            <span className=\"sub-length\">\n              /month\n              <br />\n              <i className=\"billed\">\n                {`Billed ${discounted ? \"annually\" : \"monthly\"}`}\n              </i>\n            </span>\n          </p>\n        )) || (\n          <p className=\"price\">\n            <span className=\"sub-price free\">Free</span>\n          </p>\n        )}\n        {(current && <span className=\"sub-link current\">Current plan</span>) ||\n          (upgrade === null && (\n            <a href={ctaLink} className=\"sub-link\">\n              {offerDetails.cta}\n            </a>\n          )) ||\n          (upgrade && (\n            <a href={ctaLink} className=\"sub-link\">\n              {offerDetails.upgradeCta}\n            </a>\n          )) || (\n            <a\n              href=\"/en-US/plus/docs/faq#can-i-upgrade/downgrade-my-plan-\"\n              className=\"sub-link na\"\n            >\n              Not available\n            </a>\n          )}\n        <p className=\"includes\">{offerDetails.includes}</p>\n        <ul>\n          {offerDetails.features.map(([href, text], index) => (\n            <li key={index}>\n              {(href && <a href={`#${href}`}>{text}</a>) || text}\n            </li>\n          ))}\n        </ul>\n        <a\n          href=\"https://www.mozilla.org/en-US/about/legal/terms/mdn-plus/\"\n          target=\"_blank\"\n          rel=\"noreferrer noopener\"\n          className=\"terms external\"\n        >\n          See terms and conditions\n        </a>\n      </div>\n    </section>\n  );\n}\n\nfunction isCurrent(user: UserData | null, subscriptionType: SubscriptionType) {\n  if (user === null || !user.isAuthenticated) {\n    return false;\n  }\n  return user.subscriptionType === subscriptionType;\n}\n\nfunction canUpgrade(user: UserData | null, subscriptionType: SubscriptionType) {\n  if (user === null || !user.isAuthenticated) {\n    return null;\n  }\n  if (!user.isSubscriber || !user.subscriptionType) {\n    return true;\n  }\n  return (\n    SUBSCRIPTIONS[user.subscriptionType]?.order <\n    SUBSCRIPTIONS[subscriptionType]?.order\n  );\n}\n\nfunction getLocalizedPlans(countrySpecific: StripePlans): {\n  CORE: OfferDetailsProps;\n  PLUS_5: OfferDetailsProps;\n  PLUS_10: OfferDetailsProps;\n} {\n  return {\n    CORE: CORE,\n    PLUS_5: {\n      ...PLUS_5,\n      currency: countrySpecific.currency,\n      regular: {\n        ...PLUS_5.regular,\n        ctaLink: `${MDN_PLUS_SUBSCRIBE_BASE}?plan=${countrySpecific.plans[\"mdn_plus_5m\"].id}`,\n        monthlyPrice: countrySpecific.plans[\"mdn_plus_5m\"].monthlyPriceInCents,\n      },\n      discounted: {\n        ...PLUS_5.discounted,\n        ctaLink: `${MDN_PLUS_SUBSCRIBE_BASE}?plan=${countrySpecific.plans[\"mdn_plus_5y\"].id}`,\n        monthlyPrice: countrySpecific.plans[\"mdn_plus_5y\"].monthlyPriceInCents,\n      },\n    },\n    PLUS_10: {\n      ...PLUS_10,\n      currency: countrySpecific.currency,\n      regular: {\n        ...PLUS_10.regular,\n        ctaLink: `${MDN_PLUS_SUBSCRIBE_BASE}?plan=${countrySpecific.plans[\"mdn_plus_10m\"].id}`,\n        monthlyPrice: countrySpecific.plans[\"mdn_plus_10m\"].monthlyPriceInCents,\n      },\n      discounted: {\n        ...PLUS_10.discounted,\n        ctaLink: `${MDN_PLUS_SUBSCRIBE_BASE}?plan=${countrySpecific.plans[\"mdn_plus_10y\"].id}`,\n        monthlyPrice: countrySpecific.plans[\"mdn_plus_10y\"].monthlyPriceInCents,\n      },\n    },\n  };\n}\n\nfunction OfferOverviewSubscribe() {\n  const userData = useUserData();\n  const [offerDetails, setOfferDetails] = useState<null | {\n    CORE: OfferDetailsProps;\n    PLUS_5: OfferDetailsProps | null;\n    PLUS_10: OfferDetailsProps | null;\n  }>(null);\n  const { isOnline } = useOnlineStatus();\n\n  useEffect(() => {\n    (async () => {\n      if (ENABLE_PLUS_EU && isOnline) {\n        try {\n          const plans: StripePlans = await getStripePlans();\n          setOfferDetails(getLocalizedPlans(plans));\n        } catch (error) {\n          //Paid subs Not supported by region just display Free subscription\n          setOfferDetails({ CORE: CORE, PLUS_5: null, PLUS_10: null });\n        }\n      }\n    })();\n  }, [isOnline]);\n\n  const activeSubscription = userData?.subscriptionType;\n  const activeSubscriptionPeriod =\n    (activeSubscription && SUBSCRIPTIONS[activeSubscription]?.period) ||\n    Period.Month;\n\n  let [period, setPeriod] = useState(activeSubscriptionPeriod);\n  const wrapperClass = !isOnline ? \"wrapper-offline\" : \"wrapper\";\n\n  return (\n    <div className=\"dark plus-subscribe-wrapper\">\n      <section className=\"container subscribe\" id=\"subscribe\">\n        {!isOnline && (\n          <h2>\n            You are currently offline. Please go online to view the plans for\n            MDN Plus\n          </h2>\n        )}\n        {isOnline && (\n          <>\n            {(offerDetails && <h2>Choose a plan</h2>) || (\n              <h2>Loading available plans…</h2>\n            )}\n            {offerDetails &&\n              /** Only display discount switch if paid plans available  */\n              offerDetails.PLUS_5 && (\n                <Switch\n                  name=\"period\"\n                  checked={period === Period.Year || false}\n                  toggle={(e) => {\n                    const period = e.target.checked\n                      ? Period.Year\n                      : Period.Month;\n                    setPeriod(period);\n                  }}\n                >\n                  Pay yearly and get 2 months for free\n                </Switch>\n              )}\n          </>\n        )}\n        {offerDetails && (\n          <div className={wrapperClass}>\n            <OfferDetails\n              offerDetails={offerDetails.CORE}\n              period={period}\n            ></OfferDetails>\n            {offerDetails.PLUS_5 && (\n              <OfferDetails\n                offerDetails={offerDetails.PLUS_5}\n                period={period}\n              ></OfferDetails>\n            )}\n            {offerDetails.PLUS_10 && (\n              <OfferDetails\n                offerDetails={offerDetails.PLUS_10}\n                period={period}\n              ></OfferDetails>\n            )}\n          </div>\n        )}\n      </section>\n      <p className=\"plus-for-companies\">\n        * Do you need MDN Plus for your company?{\" \"}\n        <a href=\"https://docs.google.com/forms/d/15YimonAiA9ca-JrGfxgRstYEuQsVUuyzGH1_0RbpSPU/viewform\">\n          Let us know\n        </a>{\" \"}\n        and we’ll get back to you when it becomes available.\n      </p>\n    </div>\n  );\n}\n\nexport default OfferOverviewSubscribe;\n","import { useUserData } from \"../../user-context\";\nimport { isPlusAvailable } from \"../../utils\";\nimport OfferHero from \"./offer-hero\";\nimport OfferOverviewFeatures from \"./offer-overview-feature\";\nimport OfferOverviewSubscribe from \"./offer-overview-subscribe\";\n\nfunction OfferOverview() {\n  const userData = useUserData();\n  const plusAvailable = isPlusAvailable(userData);\n  return (\n    <div className=\"offer-overview\">\n      <OfferHero plusAvailable={plusAvailable} />\n      <OfferOverviewFeatures />\n      {plusAvailable && <OfferOverviewSubscribe />}\n    </div>\n  );\n}\n\nexport default OfferOverview;\n","import \"./index.scss\";\n\nexport function Switch({\n  name,\n  hiddenLabel,\n  checked = false,\n  toggle = () => {},\n  children,\n}: {\n  name: string;\n  hiddenLabel?: string;\n  checked?: boolean;\n  toggle?: (Event) => void;\n  children?: React.ReactNode;\n}) {\n  return (\n    <label className=\"switch\">\n      {hiddenLabel && <span className=\"visually-hidden\">{hiddenLabel}</span>}\n      <input\n        type=\"checkbox\"\n        name={name}\n        checked={checked}\n        onChange={toggle}\n      ></input>\n      <span className=\"slider\"></span>\n      {children && <span className=\"label\">{children}</span>}\n    </label>\n  );\n}\n"],"names":["plusAvailable","animate","CRUD_MODE","className","href","animateColors","OfferOverviewFeature","id","img","imgAlt","children","src","alt","width","height","OfferOverviewFeatures","Period","SUBSCRIPTIONS","SubscriptionType","order","period","Month","Year","PLUS_FEATURES","CORE","name","features","includes","cta","regular","subscriptionType","ctaLink","FXA_SIGNIN_URL","discounted","PLUS_5","currency","upgradeCta","MDN_PLUS_SUBSCRIBE_5M_URL","monthlyPrice","MDN_PLUS_SUBSCRIBE_5Y_URL","PLUS_10","MDN_PLUS_SUBSCRIBE_10M_URL","MDN_PLUS_SUBSCRIBE_10Y_URL","OfferDetails","offerDetails","userData","useUserData","current","user","isAuthenticated","isCurrent","upgrade","isSubscriber","canUpgrade","displayMonthlyPrice","Intl","NumberFormat","undefined","style","format","map","index","text","target","rel","useState","setOfferDetails","isOnline","useOnlineStatus","useEffect","ENABLE_PLUS_EU","getStripePlans","plans","countrySpecific","MDN_PLUS_SUBSCRIBE_BASE","monthlyPriceInCents","activeSubscription","activeSubscriptionPeriod","setPeriod","wrapperClass","checked","toggle","e","isPlusAvailable","Switch","hiddenLabel","type","onChange"],"sourceRoot":""}