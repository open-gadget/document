{"version":3,"file":"static/js/940.49930087.chunk.js","mappings":"8IAEMA,EAAiBC,EAAAA,MAAW,kBAAM,iCAqBxC,UAhBA,WACE,MAA4CA,EAAAA,UAAe,GAA3D,eAAOC,EAAP,KAAuBC,EAAvB,KAKA,OAJAF,EAAAA,WAAgB,WACdE,GAmBJ,WACE,IAAMC,EAAqBC,SAASC,cAAc,OAC5CC,EAAkB,qCAClBC,EAAcH,SAASI,gBAAgBF,EAAiB,QACxDG,EAAgBL,SAASI,gBAAgBF,EAAiB,UAChEG,EAAcC,aAAa,SAAU,QACrCD,EAAcC,aAAa,QAAS,QACpCH,EAAYI,OAAOF,GACnBN,EAAmBQ,OAAOJ,GAC1BJ,EAAmBS,UAAUC,IAAI,aAEjC,IAAMC,EAAoBV,SAASW,KAAKC,YAAYb,GACpD,IAAKM,EACH,OAAO,EAET,IAAMQ,EAAMR,EAAcS,wBAE1B,GADAd,SAASW,KAAKI,YAAYL,IACrBG,EACH,OAAO,EAET,OAAOG,KAAKC,IAAIJ,EAAIK,OAAS,KAAO,GAAKF,KAAKC,IAAIJ,EAAIM,MAAQ,KAAO,EAvChDC,MAClB,IAECvB,GAEA,SAAC,WAAD,CAAgBwB,SAAU,KAA1B,UACE,SAAC1B,EAAD,MAIC","sources":["document/mathml-polyfill/index.tsx"],"sourcesContent":["import React from \"react\";\n\nconst MathMLPolyfill = React.lazy(() => import(\"./polyfill\"));\n\n// This component gets rendered if the document has MathML in it.\n// But that doesn't mean we necessarily need the CSS polyfill.\n// Remember that this component is always lazy loaded.\nfunction MathMLPolyfillMaybe() {\n  const [polyfillNeeded, setPolyfillNeeded] = React.useState(false);\n  React.useEffect(() => {\n    setPolyfillNeeded(!isMathMLSupported());\n  }, []);\n\n  if (polyfillNeeded) {\n    return (\n      <React.Suspense fallback={null}>\n        <MathMLPolyfill />\n      </React.Suspense>\n    );\n  }\n  return null;\n}\n\nexport default MathMLPolyfillMaybe;\n\n/**\n * Tests whether MathML is supported(at least in terms of mspace),\n * and returns true or false.\n */\nfunction isMathMLSupported() {\n  const offscreenContainer = document.createElement(\"div\");\n  const mathMLNamespace = \"http://www.w3.org/1998/Math/MathML\";\n  const mathElement = document.createElementNS(mathMLNamespace, \"math\");\n  const mspaceElement = document.createElementNS(mathMLNamespace, \"mspace\");\n  mspaceElement.setAttribute(\"height\", \"23px\");\n  mspaceElement.setAttribute(\"width\", \"77px\");\n  mathElement.append(mspaceElement);\n  offscreenContainer.append(mathElement);\n  offscreenContainer.classList.add(\"offscreen\");\n\n  const mathMLTestElement = document.body.appendChild(offscreenContainer);\n  if (!mspaceElement) {\n    return false;\n  }\n  const box = mspaceElement.getBoundingClientRect();\n  document.body.removeChild(mathMLTestElement);\n  if (!box) {\n    return false;\n  }\n  return Math.abs(box.height - 23) <= 1 && Math.abs(box.width - 77) <= 1;\n}\n"],"names":["MathMLPolyfill","React","polyfillNeeded","setPolyfillNeeded","offscreenContainer","document","createElement","mathMLNamespace","mathElement","createElementNS","mspaceElement","setAttribute","append","classList","add","mathMLTestElement","body","appendChild","box","getBoundingClientRect","removeChild","Math","abs","height","width","isMathMLSupported","fallback"],"sourceRoot":""}